### UMP
ump是低成本和高性能的MySQL云数据库方案
#### 设计原则
- 单一对外接口
- 无单点故障，高可用
- 弹性可伸缩，资源互相隔离
#### 依赖组件
- Mnesia 数据库管理系统，运行于controller服务器
- LVS Linux虚拟服务器
- RabbitMQ 消息队列
- ZooKeeper 分布式锁
#### 各种功能实现
##### 实现容灾
一个用户两个Mysql实例，一主一从，故障时切换
##### 实现读写分离
写操作给主库，读操作主从负载均衡
##### 实现分库分表
解析SQL语句，合并操作后分发给MySQL实例
##### 实现资源调度
多个小规模用户可以共享同一个MySQL实例
对于中等规模的用户，每个用户独占一个MySQL实例
对于分库分表的用户，会占有多个独立的MySQL实例
##### 实现资源隔离
用Cgroup限制MySQL进程资源：适用于多个MySQL实例共享同一台物理机的情况
在Proxy服务器端限制QPS：适用于多个用户共享同一个MySQL实例的情况
##### 实现数据安全
SSL+IP白名单+敏感SQL拦截+记录操作日志
